<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hey Z Music</title>

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    /* ---------- base styles (kept from your working file) ---------- */
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff;text-align:center;min-height:100vh;
      background: url('1.png') no-repeat center top fixed; background-size:contain;}
    header{padding:25px 20px 5px;color:#fff;text-shadow:2px 2px 8px rgba(0,0,0,.8)}
    header h1{font-size:3.5rem;margin:0}
    header h2{font-size:1.6rem;margin-top:5px;font-weight:normal}

    .play-all{margin:15px 0 25px}
    .play-all button{padding:10px 20px;font-size:1rem;font-weight:700;color:#fff;background:#32cd32;border:none;border-radius:25px;cursor:pointer;box-shadow:0 0 8px #32cd32}
    .play-all button:hover{background:#28a428}

    .songs{display:flex;flex-direction:column;align-items:center;gap:15px;padding:20px 0}
    .song{width:65%;max-width:750px;background:rgba(0,0,0,.65);border-radius:5px;padding:10px;box-shadow:0 0 5px rgba(255,20,147,.6);
      opacity:0;transform:translateY(25px);transition:all .6s ease;animation:floaty 4s ease-in-out infinite}
    .song.visible{opacity:1;transform:translateY(0)}
    .song.active{animation:none;box-shadow:0 0 12px rgba(255,105,180,.9)}
    @keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    .song h3{margin-bottom:8px;font-size:1.1rem}
    .glow-button{display:inline-block;padding:8px 18px;font-size:.9rem;font-weight:700;color:#fff;background:#ff1493;border-radius:25px;text-decoration:none;
      box-shadow:0 0 8px #ff1493,0 0 16px #ff1493;cursor:pointer;animation:pulse 2s infinite}
    .glow-button:hover{box-shadow:0 0 16px #ff69b4,0 0 28px #ff69b4;background:#ff69b4}
    .glow-button.active{animation:none;background:#ff69b4}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}

    .player{margin-top:12px;display:none}
    iframe{width:100%;height:120px;border:none;border-radius:6px}

    .socials{margin:40px 0;text-align:center}
    .social-links{display:flex;justify-content:center;gap:12px}
    .social-links a{width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:1.2rem;color:#fff;
      background: rgba(255,20,147,0.7); box-shadow:0 0 12px #ff1493, 0 0 24px #ff1493; transition:0.3s; animation:pulse 2s infinite;}
    .social-links a:hover{transform:scale(1.2); box-shadow:0 0 20px #ff69b4,0 0 35px #ff69b4; background:#ff69b4}
    .social-links .facebook{background:#1877f2}.social-links .youtube{background:#ff0000}.social-links .tiktok{background:#010101}
    .social-links .spotify{background:#08cb00}.social-links .soundcloud{background:#ff6600}
    .social-links .instagram{background:radial-gradient(circle at 30% 30%,#f58529,#dd2a7b,#8134af,#515bd4)}
    .social-links a {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: 1.5rem;
  color: white;
  text-decoration: none;
  overflow: hidden;        /* Prevents lines/artifacts inside */
  background: rgba(255, 20, 147, 0.7);
  box-shadow: 0 0 12px #ff1493, 0 0 24px #ff1493;
  transition: 0.3s;
  animation: pulse 2s infinite;
}
    .social-links a i {
  display: block;          /* Makes icon align perfectly */
  line-height: 1;          /* Removes vertical line glitches */
}
    @media (max-width:480px){.song{width:92%}}


    /* ---------- header letter-drop animation styles ---------- */
    header h1 span,
    header h2 span {
      display: inline-block;
      opacity: 0;
      transform: translateY(-50px) rotate(-6deg);
      will-change: transform, opacity;
      animation: drop .55s cubic-bezier(.2,.8,.2,1) forwards;
    }

    /* a small finishing class (optional subtle pop after all letters dropped) */
    header h1 span.finish,
    header h2 span.finish {
      animation: drop .55s cubic-bezier(.2,.8,.2,1) forwards, land .18s ease .55s forwards;
    }

    @keyframes drop {
      to {
        opacity: 1;
        transform: translateY(0) rotate(0);
      }
    }
    @keyframes land {
      from { transform: translateY(0) scaleY(1); }
      to   { transform: translateY(0) scaleY(1); }
    }

    /* reduced-motion preference */
    @media (prefers-reduced-motion: reduce) {
      header h1 span,
      header h2 span {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Put the actual text here so letters exist to animate -->
  <header>
    <h1></h1>
    <h2></h2>
  </header>

  <div class="play-all" style="display:none"></div>

  <section class="songs" id="songsList">
    <div class="song"><h3>KATE</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/kate')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>MY BASS GIRL</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/my-bass-girl')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>ALL IN ON YOU</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/allinonyou')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>TOO SOON</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/too-soon')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>JUST LIKE HER SMILE</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/just-like-her-smile')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>ALL ABOUT HER</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/all-about-her')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>JUST A FRIEND</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/just-a-friend')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>ALMOST MINE</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/almost-mine')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>MAYBE SOMEDAY</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/maybe-someday')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>IF YOU NEVER LOOKED MY WAY</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/if-you-never-looked-my-way')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>CARRY IT ALL</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/carryitall')">▶ Play</button><div class="player"></div></div>
    <div class="song"><h3>RANT TO ME</h3><button class="glow-button" onclick="playSong(this,'https://soundcloud.com/hey-z-957718057/rant-to-me')">▶ Play</button><div class="player"></div></div>
  </section>

  <section class="socials">
    <div class="social-links">
      <a href="https://facebook.com/heyzmusic0015" target="_blank" class="facebook"><i class="fab fa-facebook-f"></i></a>
      <a href="https://instagram.com/heyz.music" target="_blank" class="instagram"><i class="fab fa-instagram"></i></a>
      <a href="https://youtube.com/@heyzmusic15" target="_blank" class="youtube"><i class="fab fa-youtube"></i></a>
      <a href="https://tiktok.com/@heyz.music" target="_blank" class="tiktok"><i class="fab fa-tiktok"></i></a>
      <a href="https://open.spotify.com/artist/3bdrCvuKVPYjE3EXEbTTyM" target="_blank" class="spotify"><i class="fab fa-spotify"></i></a>
      <a href="https://soundcloud.com/hey-z-957718057" target="_blank" class="soundcloud"><i class="fab fa-soundcloud"></i></a>
    </div>
  </section>

  <!-- letter-wrapping script (runs on DOMContentLoaded) -->
  <script>
    (function () {
      function wrapHeaderLetters() {
        const headers = document.querySelectorAll('header h1, header h2');
        headers.forEach(header => {
          // avoid double-wrapping
          if (header.dataset.lettersWrapped === '1') return;

          let text = header.textContent.trim();
          if (!text) text = header.getAttribute('data-text') || header.dataset.text || '';
          if (!text) return;

          header.textContent = ''; // clear existing text
          const chars = Array.from(text);
          chars.forEach((ch, i) => {
            const span = document.createElement('span');
            span.className = 'letter';
            span.textContent = ch === ' ' ? '\u00A0' : ch;
            // staggered animation delay
            span.style.animationDelay = `${(i * 0.055).toFixed(3)}s`;
            header.appendChild(span);
          });

          header.dataset.lettersWrapped = '1';

          // Add 'finish' after entire animation to optionally trigger any finishing effect
          const total = chars.length * 0.055 + 0.7;
          setTimeout(() => {
            header.querySelectorAll('span').forEach(s => s.classList.add('finish'));
          }, total * 1000);
        });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', wrapHeaderLetters);
      } else {
        wrapHeaderLetters();
      }
    })();
  </script>

  <!-- SCRIPT: robust player init & autoplay-next (kept unchanged except placed after header animation) -->
  <script>
  (function () {
    // Helpful console prefix
    const log = (...a) => console.log('[SC-PLAYLIST]', ...a);

    // Playlist (keep in sync with your inline onclick values)
    const playlist = [
      "https://soundcloud.com/hey-z-957718057/kate",
      "https://soundcloud.com/hey-z-957718057/my-bass-girl",
      "https://soundcloud.com/hey-z-957718057/allinonyou",
      "https://soundcloud.com/hey-z-957718057/too-soon",
      "https://soundcloud.com/hey-z-957718057/just-like-her-smile",
      "https://soundcloud.com/hey-z-957718057/all-about-her",
      "https://soundcloud.com/hey-z-957718057/just-a-friend",
      "https://soundcloud.com/hey-z-957718057/almost-mine",
      "https://soundcloud.com/hey-z-957718057/maybe-someday",
      "https://soundcloud.com/hey-z-957718057/if-you-never-looked-my-way",
      "https://soundcloud.com/hey-z-957718057/carryitall",
      "https://soundcloud.com/hey-z-957718057/rant-to-me"
    ];

    // load SC API if not already present
    function loadSCapi() {
      return new Promise((resolve, reject) => {
        if (window.SC && SC.Widget) return resolve();
        const s = document.createElement('script');
        s.src = 'https://w.soundcloud.com/player/api.js';
        s.onload = () => {
          log('SoundCloud API loaded');
          resolve();
        };
        s.onerror = () => reject(new Error('Failed to load SoundCloud API'));
        document.head.appendChild(s);
      });
    }

    // Create the reusable player iframe element (with a safe initial src)
    function createGlobalPlayer(initialUrl) {
      const container = document.createElement('div');
      container.id = 'sc-global-player-container';
      container.style.display = 'none';
      const iframe = document.createElement('iframe');
      iframe.id = 'sc-player';
      iframe.setAttribute('allow', 'autoplay');
      // set initial src to a valid soundcloud player URL (avoids widget race)
      iframe.src = 'https://w.soundcloud.com/player/?url=' + encodeURIComponent(initialUrl)
        + '&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&visual=false';
      iframe.style.width = '100%';
      iframe.style.height = '120px';
      iframe.style.border = 'none';
      iframe.style.borderRadius = '6px';
      container.appendChild(iframe);
      document.body.appendChild(container);
      return { container, iframe };
    }

    // Utility: find button by url (robust to small variations)
    function findButtonFor(url) {
      const last = url.split('/').pop();
      const buttons = Array.from(document.querySelectorAll('.glow-button'));
      return buttons.find(b => {
        const onclick = (b.getAttribute('onclick') || '').replace(/\s/g, '');
        return onclick.includes(url) || onclick.includes(last);
      });
    }

    // highlight active and move global player into that song box
    function highlightAndMove(globalContainer, url) {
      const btn = findButtonFor(url);
      if (!btn) return;
      document.querySelectorAll('.glow-button').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.song').forEach(s => s.classList.remove('active'));
      btn.classList.add('active');
      const song = btn.closest('.song');
      if (song) song.classList.add('active');
      const box = btn.nextElementSibling;
      if (box) {
        box.innerHTML = '';
        box.style.display = 'block';
        box.appendChild(globalContainer);
        globalContainer.style.display = 'block';
      }
    }

    // main init
    async function init() {
      try {
        await loadSCapi();
      } catch (err) {
        console.error('SoundCloud API failed to load', err);
        return;
      }

      // create global player with first track as initial src
      const { container: globalContainer, iframe } = createGlobalPlayer(playlist[0]);
      const widget = SC.Widget(iframe);
      let currentIndex = -1;
      let finishBound = false;

      // bind finish event (only once)
      function bindFinish() {
        if (finishBound) return;
        finishBound = true;
        widget.bind(SC.Widget.Events.FINISH, function () {
          currentIndex++;
          log('FINISH event — advancing to index', currentIndex);
          if (currentIndex < playlist.length) {
            const nextUrl = playlist[currentIndex];
            widget.load(nextUrl, {
              auto_play: true,
              hide_related: true,
              show_comments: false,
              show_user: false,
              show_reposts: false,
              visual: false
            });
            highlightAndMove(globalContainer, nextUrl);
          } else {
            log('Playlist finished');
          }
        });
      }

      // export playSong for inline onclick handlers
      window.playSong = function (button, url) {
        try {
          // clear other player boxes (remove previous global player where necessary)
          document.querySelectorAll('.player').forEach(p => {
            if (!p.contains(globalContainer)) {
              p.innerHTML = '';
              p.style.display = 'none';
            } else {
              p.style.display = 'none';
            }
          });

          // find index robustly
          currentIndex = playlist.findIndex(u => u === url || u.includes(url.split('/').pop()));
          if (currentIndex === -1) {
            // fallback: try matching last segment
            const last = url.split('/').pop();
            currentIndex = playlist.findIndex(u => u.includes(last));
          }
          if (currentIndex === -1) currentIndex = 0;

          highlightAndMove(globalContainer, playlist[currentIndex]);
          bindFinish();

          // load the selected track and autoplay
          widget.load(playlist[currentIndex], {
            auto_play: true,
            hide_related: true,
            show_comments: false,
            show_user: false,
            show_reposts: false,
            visual: false
          });
          log('Loaded track', playlist[currentIndex], 'index', currentIndex);
        } catch (e) {
          console.error('playSong error', e);
        }
      };

      // playAll function (kept if you want it later)
      window.playAll = function () {
        currentIndex = 0;
        highlightAndMove(globalContainer, playlist[currentIndex]);
        bindFinish();
        widget.load(playlist[currentIndex], { auto_play: true, hide_related: true });
        log('Play All started');
      };

      // intersection observer for fade-in
      try {
        const obs = new IntersectionObserver(entries => {
          entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
        }, { threshold: 0.2 });
        document.querySelectorAll('.song').forEach(s => obs.observe(s));
      } catch (e) { /* ignore */ }

      log('Player ready — click a ▶ Play button (or Play All).');
    } // init

    // run
    init().catch(e => console.error('init error', e));
  })();
  </script>
</body>
</html>

